<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Controle de Treinamentos - Metrô SP</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --azul-escuro: #003366;
            --azul-medio: #00509E;
            --azul-claro: #0077CC;
            --azul-brilhante: #0099FF;
            --vermelho-metro: #CC0000;
            --cinza-escuro-metro: #333333;
            --branco: #FFFFFF;
            --cinza-claro: #F5F5F5;
            --cinza: #DDDDDD;
            --cinza-escuro: #777777;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--azul-claro) 0%, var(--azul-escuro) 100%);
            color: #333;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            background-color: var(--branco);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        header {
            background: linear-gradient(90deg, var(--azul-escuro) 0%, var(--vermelho-metro) 100%);
            color: var(--branco);
            padding: 1.2rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        
        .logo i {
            margin-right: 10px;
            color: var(--azul-brilhante);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 1.5rem;
        }
        
        nav ul li a {
            color: var(--branco);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
        }
        
        nav ul li a i {
            margin-right: 8px;
        }
        
        nav ul li a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .main-content {
            padding: 2rem;
            min-height: 600px;
        }
        
        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .active {
            display: block;
        }
        
        h2 {
            color: var(--azul-escuro);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--vermelho-metro);
            padding-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        h2 i {
            margin-right: 10px;
            color: var(--vermelho-metro);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--azul-escuro);
        }
        
        input[type="text"],
        input[type="password"],
        input[type="email"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid var(--cinza);
            border-radius: 4px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus,
        input[type="password"]:focus,
        input[type="email"]:focus,
        input[type="number"]:focus,
        select:focus,
        textarea:focus {
            border-color: var(--azul-claro);
            outline: none;
        }
        
        button {
            background-color: var(--azul-medio);
            color: var(--branco);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        button i {
            margin-right: 8px;
        }
        
        button:hover {
            background-color: var(--azul-escuro);
        }
        
        button.btn-danger {
            background-color: var(--vermelho-metro);
        }
        
        button.btn-danger:hover {
            background-color: #AA0000;
        }
        
        .card {
            border: 1px solid var(--cinza);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            background-color: var(--branco);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .card h3 {
            color: var(--azul-medio);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
        }
        
        .card h3 i {
            margin-right: 10px;
        }
        
        .card p {
            margin-bottom: 1rem;
            color: var(--cinza-escuro);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        table th,
        table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--cinza);
        }
        
        table th {
            background-color: var(--azul-claro);
            color: var(--branco);
        }
        
        table tr:nth-child(even) {
            background-color: var(--cinza-claro);
        }
        
        .admin-link {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--azul-escuro);
            color: var(--branco);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s;
            z-index: 100;
        }
        
        .admin-link:hover {
            transform: scale(1.1);
        }
        
        .checkbox-presenca {
            transform: scale(1.5);
            cursor: pointer;
        }
        
        .login-container {
            max-width: 400px;
            margin: 0 auto;
            padding: 2rem;
            background-color: var(--branco);
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .user-type-selector {
            display: flex;
            margin-bottom: 1.5rem;
            border-radius: 4px;
            overflow: hidden;
            border: 1px solid var(--azul-claro);
        }
        
        .user-type {
            flex: 1;
            padding: 0.75rem;
            text-align: center;
            background-color: var(--cinza-claro);
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .user-type.active {
            background-color: var(--azul-claro);
            color: var(--branco);
            font-weight: 600;
        }
        
        .curso-detalhes {
            display: none;
            margin-top: 1.5rem;
            padding: 1.5rem;
            background-color: var(--cinza-claro);
            border-radius: 8px;
            border-left: 4px solid var(--azul-medio);
        }
        
        .aluno-dashboard {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
        }
        
        .admin-dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .aluno-info, .admin-panel {
            background-color: var(--cinza-claro);
            padding: 1.5rem;
            border-radius: 8px;
        }
        
        .aluno-cursos, .admin-content {
            background-color: var(--branco);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--cinza);
        }
        
        .progress-bar {
            background-color: #e0e0e0;
            border-radius: 5px;
            height: 20px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress {
            background-color: var(--azul-medio);
            height: 100%;
            border-radius: 5px;
        }
        
        .signature-pad {
            border: 1px solid var(--cinza);
            border-radius: 4px;
            margin: 15px 0;
            background-color: var(--branco);
        }
        
        .signature-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .certificado {
            border: 2px solid var(--azul-escuro);
            padding: 2rem;
            margin: 1rem 0;
            background-color: var(--branco);
            position: relative;
        }
        
        .certificado h3 {
            text-align: center;
            color: var(--azul-escuro);
            margin-bottom: 1.5rem;
        }
        
        .certificado-content {
            text-align: center;
        }
        
        .certificado-footer {
            display: flex;
            justify-content: space-around;
            margin-top: 3rem;
        }
        
        .assinatura {
            text-align: center;
            border-top: 1px solid var(--cinza-escuro);
            padding-top: 0.5rem;
            width: 200px;
        }
        
        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .badge-success {
            background-color: #28a745;
            color: white;
        }
        
        .badge-warning {
            background-color: #ffc107;
            color: black;
        }
        
        .badge-info {
            background-color: var(--azul-claro);
            color: white;
        }
        
        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-group {
            display: flex;
            flex-direction: column;
        }
        
        @media (max-width: 992px) {
            .aluno-dashboard, .admin-dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
            }
            
            nav ul li {
                margin: 0.5rem 0;
            }
            
            header {
                flex-direction: column;
                text-align: center;
            }
            
            .logo {
                margin-bottom: 1rem;
            }
            
            .filters {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-subway"></i>
                Metrô SP - Treinamentos
            </div>
            <nav>
                <ul>
                    <li><a href="#" onclick="showPage('login')"><i class="fas fa-sign-in-alt"></i> Login</a></li>
                    <li><a href="#" onclick="showPage('cursos')"><i class="fas fa-graduation-cap"></i> Cursos</a></li>
                    <li><a href="#" onclick="showPage('alunoDashboard')"><i class="fas fa-user-graduate"></i> Área do Aluno</a></li>
                    <li><a href="#" onclick="showPage('adminDashboard')"><i class="fas fa-cog"></i> Administração</a></li>
                </ul>
            </nav>
        </header>
        
        <main class="main-content">
            <!-- Página de Login -->
            <div id="login" class="page active" aria-hidden="false">
                <h2><i class="fas fa-sign-in-alt"></i> Login</h2>
                
                <div class="user-type-selector">
                    <div class="user-type active" id="alunoType" onclick="selectUserType('aluno')">Aluno</div>
                    <div class="user-type" id="instrutorType" onclick="selectUserType('instrutor')">Instrutor</div>
                    <div class="user-type" id="monitorType" onclick="selectUserType('monitor')">Monitor</div>
                    <div class="user-type" id="adminType" onclick="selectUserType('admin')">Administrador</div>
                </div>
                
                <div class="login-container">
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="email"><i class="fas fa-envelope"></i> E-mail:</label>
                            <input type="email" id="email" autocomplete="username" required autofocus>
                        </div>
                        <div class="form-group">
                            <label for="password"><i class="fas fa-lock"></i> Senha:</label>
                            <input type="password" id="password" autocomplete="current-password" required>
                        </div>
                        <button type="submit"><i class="fas fa-sign-in-alt"></i> Entrar</button>
                    </form>
                    
                    <p style="margin-top: 1.5rem; text-align: center;">
                        <a href="#" onclick="showPage('adminLogin')">Acesso administrativo</a>
                    </p>
                </div>
            </div>
            
            <!-- Página de Cursos -->
            <div id="cursos" class="page" aria-hidden="true">
                <h2><i class="fas fa-graduation-cap"></i> Cursos Disponíveis</h2>
                
                <div class="filters">
                    <div class="filter-group">
                        <label for="filterCargo">Filtrar por Cargo:</label>
                        <select id="filterCargo">
                            <option value="">Todos os cargos</option>
                            <option value="operacional">Operacional</option>
                            <option value="tecnico">Técnico</option>
                            <option value="supervisor">Supervisor</option>
                            <option value="gerencial">Gerencial</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filterStatus">Filtrar por Status:</label>
                        <select id="filterStatus">
                            <option value="">Todos os status</option>
                            <option value="aberto">Inscrições abertas</option>
                            <option value="andamento">Em andamento</option>
                            <option value="concluido">Concluído</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="searchCourse">Buscar curso:</label>
                        <input type="text" id="searchCourse" placeholder="Digite o nome do curso">
                    </div>
                </div>
                
                <div class="card" data-title="NR35 - Trabalho em Altura" data-cargo="operacional,tecnico" data-status="aberto">
                    <h3><i class="fas fa-hard-hat"></i> NR35 - Trabalho em Altura <span class="badge badge-success">Disponível</span></h3>
                    <p><strong>Código:</strong> NR35-TURMA-0823</p>
                    <p>Curso sobre normas de segurança para trabalho em altura conforme estabelece a NR35.</p>
                    <p><strong>Carga horária:</strong> 40 horas</p>
                    <p><strong>Instrutor:</strong> Eng. Carlos Oliveira</p>
                    <p><strong>Restrição:</strong> Cargos operacionais e técnicos</p>
                    <button onclick="verDetalhes('nr35')"><i class="fas fa-info-circle"></i> Ver Detalhes</button>
                    
                    <div id="detalhes-nr35" class="curso-detalhes" aria-hidden="true">
                        <h4>Conteúdo Programático</h4>
                        <ul>
                            <li>Normas e regulamentos aplicáveis</li>
                            <li>Análise de Risco e condições impeditivas</li>
                            <li>Equipamentos de Proteção Individual (EPI)</li>
                            <li>Equipamentos de Proteção Coletiva (EPC)</li>
                            <li>Primeiros socorros</li>
                        </ul>
                        <button style="margin-top: 15px;" onclick="inscreverCurso('NR35 - Trabalho em Altura')"><i class="fas fa-check"></i> Inscrever-se</button>
                    </div>
                </div>
                
                <div class="card" data-title="NR10 - Segurança em Instalações Elétricas" data-cargo="tecnico" data-status="andamento">
                    <h3><i class="fas fa-bolt"></i> NR10 - Segurança em Instalações Elétricas <span class="badge badge-warning">Em breve</span></h3>
                    <p><strong>Código:</strong> NR10-TURMA-0923</p>
                    <p>Treinamento para prevenção de acidentes com instalações e serviços em eletricidade.</p>
                    <p><strong>Carga horária:</strong> 60 horas</p>
                    <p><strong>Instrutor:</strong> Eng. Mariana Santos</p>
                    <p><strong>Restrição:</strong> Cargos técnicos</p>
                    <button onclick="verDetalhes('nr10')"><i class="fas fa-info-circle"></i> Ver Detalhes</button>
                    
                    <div id="detalhes-nr10" class="curso-detalhes" aria-hidden="true">
                        <h4>Conteúdo Programático</h4>
                        <ul>
                            <li>Introdução à segurança com eletricidade</li>
                            <li>Riscos em instalações e serviços com eletricidade</li>
                            <li>Técnicas de análise de risco</li>
                            <li>Medidas de controle do risco elétrico</li>
                            <li>Normas técnicas brasileiras</li>
                        </ul>
                        <button style="margin-top: 15px;" onclick="inscreverCurso('NR10 - Segurança em Instalações Elétricas')" disabled><i class="fas fa-clock"></i> Em breve</button>
                    </div>
                </div>
                
                <div class="card" data-title="Liderança e Gestão de Equipes" data-cargo="supervisor,gerencial" data-status="concluido">
                    <h3><i class="fas fa-users"></i> Liderança e Gestão de Equipes <span class="badge badge-info">Restrito</span></h3>
                    <p><strong>Código:</strong> LID-TURMA-0823</p>
                    <p>Desenvolvimento de competências gerenciais e liderança para supervisores e gerentes.</p>
                    <p><strong>Carga horária:</strong> 30 horas</p>
                    <p><strong>Instrutor:</strong> Dr. Roberto Almeida</p>
                    <p><strong>Restrição:</strong> Cargos supervisorios e gerenciais</p>
                    <button onclick="verDetalhes('lideranca')"><i class="fas fa-info-circle"></i> Ver Detalhes</button>
                    
                    <div id="detalhes-lideranca" class="curso-detalhes" aria-hidden="true">
                        <h4>Conteúdo Programático</h4>
                        <ul>
                            <li>Papel do líder na organização</li>
                            <li>Comunicação eficaz</li>
                            <li>Gestão de conflitos</li>
                            <li>Feedback e desenvolvimento de equipes</li>
                            <li>Planejamento e delegação de tarefas</li>
                        </ul>
                        <button style="margin-top: 15px;" onclick="inscreverCurso('Liderança e Gestão de Equipes')"><i class="fas fa-check"></i> Inscrever-se</button>
                    </div>
                </div>
            </div>
            
            <!-- Página de Login Administrativo -->
            <div id="adminLogin" class="page" aria-hidden="true">
                <h2><i class="fas fa-lock"></i> Login Administrativo</h2>
                <div class="login-container">
                    <form id="adminLoginForm">
                        <div class="form-group">
                            <label for="adminUser"><i class="fas fa-user"></i> Usuário:</label>
                            <input type="text" id="adminUser" required>
                        </div>
                        <div class="form-group">
                            <label for="adminPassword"><i class="fas fa-key"></i> Senha:</label>
                            <input type="password" id="adminPassword" required>
                        </div>
                        <button type="submit"><i class="fas fa-sign-in-alt"></i> Entrar</button>
                    </form>
                </div>
            </div>
            
            <!-- Área do Aluno -->
            <div id="alunoDashboard" class="page" aria-hidden="true">
                <h2><i class="fas fa-user-graduate"></i> Área do Aluno</h2>
                
                <div class="aluno-dashboard">
                    <div class="aluno-info">
                        <h3><i class="fas fa-user"></i> Meus Dados</h3>
                        <p><strong>Nome:</strong> João Silva</p>
                        <p><strong>Matrícula:</strong> 123456</p>
                        <p><strong>CPF:</strong> 123.456.789-00</p>
                        <p><strong>Email:</strong> joao.silva@email.com</p>
                        <p><strong>Cargo:</strong> Técnico de Manutenção</p>
                        <p><strong>Departamento:</strong> Manutenção</p>
                    </div>
                    
                    <div class="aluno-cursos">
                        <h3><i class="fas fa-book"></i> Meus Cursos</h3>
                        
                        <div class="card">
                            <h3><i class="fas fa-hard-hat"></i> NR35 - Trabalho em Altura</h3>
                            <p><strong>Status:</strong> Em andamento (65% concluído)</p>
                            <div class="progress-bar">
                                <div class="progress" style="width: 65%"></div>
                            </div>
                            <p><strong>Turma:</strong> NR35-TURMA-0823</p>
                            <p><strong>Próxima aula:</strong> 25/08/2023 - 14:00</p>
                            <button><i class="fas fa-play-circle"></i> Continuar Curso</button>
                        </div>
                        
                        <div class="card">
                            <h3><i class="fas fa-bolt"></i> NR10 - Segurança em Instalações Elétricas</h3>
                            <p><strong>Status:</strong> Concluído</p>
                            <p><strong>Turma:</strong> NR10-TURMA-0723</p>
                            <p><strong>Data de conclusão:</strong> 10/07/2023</p>
                            <p><strong>Nota:</strong> 9.2</p>
                            <button><i class="fas fa-download"></i> Emitir Certificado</button>
                        </div>
                    </div>
                </div>
                
                <h3 style="margin-top: 2rem;"><i class="fas fa-file-certificate"></i> Meus Certificados</h3>
                
                <div class="certificado">
                    <h3>CERTIFICADO</h3>
                    <div class="certificado-content">
                        <p>Certificamos que <strong>João Silva</strong>, matrícula <strong>123456</strong>,</p>
                        <p>concluiu com êxito o curso de <strong>NR10 - Segurança em Instalações Elétricas</strong>,</p>
                        <p>com carga horária de <strong>60 horas</strong>, realizado em <strong>Julho de 2023</strong>.</p>
                    </div>
                    <div class="certificado-footer">
                        <div class="assinatura">
                            <p></p>
                            <p>Eng. Mariana Santos</p>
                            <p>Instrutora</p>
                        </div>
                        <div class="assinatura">
                            <p></p>
                            <p>João Silva</p>
                            <p>Aluno</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Dashboard Administrativo -->
            <div id="adminDashboard" class="page" aria-hidden="true">
                <h2><i class="fas fa-cog"></i> Painel Administrativo</h2>
                
                <div class="admin-dashboard">
                    <div class="admin-panel">
                        <h3><i class="fas fa-chart-bar"></i> Estatísticas</h3>
                        <p><strong>Cursos ativos:</strong> 5</p>
                        <p><strong>Alunos cadastrados:</strong> 142</p>
                        <p><strong>Instrutores:</strong> 8</p>
                        <p><strong>Certificados emitidos:</strong> 89</p>
                        
                        <h3 style="margin-top: 1.5rem;"><i class="fas fa-tasks"></i> Ações Rápidas</h3>
                        <button style="margin-bottom: 10px; width: 100%;" onclick="showPage('adminCursos')"><i class="fas fa-plus"></i> Novo Curso</button>
                        <button style="margin-bottom: 10px; width: 100%;" onclick="showPage('adminUsuarios')"><i class="fas fa-user-plus"></i> Adicionar Usuário</button>
                        <button style="margin-bottom: 10px; width: 100%;" onclick="showPage('adminTurmas')"><i class="fas fa-users"></i> Gerenciar Turmas</button>
                        <button style="margin-bottom: 10px; width: 100%;" onclick="showPage('adminPresenca')"><i class="fas fa-clipboard-list"></i> Registrar Presença</button>
                    </div>
                    
                    <div class="admin-content">
                        <h3><i class="fas fa-bell"></i> Notificações</h3>
                        
                        <div class="card">
                            <h3><i class="fas fa-exclamation-circle"></i> Certificados Pendentes</h3>
                            <p>Existem 23 certificados aguardando assinatura dos alunos.</p>
                            <button onclick="showPage('adminCertificados')"><i class="fas fa-file-signature"></i> Gerenciar Certificados</button>
                        </div>
                        
                        <div class="card">
                            <h3><i class="fas fa-users"></i> Novas Inscrições</h3>
                            <p>15 novas inscrições precisam de aprovação.</p>
                            <button onclick="showPage('adminInscricoes')"><i class="fas fa-clipboard-check"></i> Ver Inscrições</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Página de Registro de Presença -->
            <div id="adminPresenca" class="page" aria-hidden="true">
                <h2><i class="fas fa-clipboard-list"></i> Registro de Presença</h2>
                
                <div class="form-group">
                    <label for="selectTurma">Selecionar Turma:</label>
                    <select id="selectTurma">
                        <option value="">Selecione uma turma</option>
                        <option value="nr35-0823">NR35-TURMA-0823</option>
                        <option value="nr10-0723">NR10-TURMA-0723</option>
                        <option value="lideranca-0823">LID-TURMA-0823</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="dataAula">Data da Aula:</label>
                    <input type="date" id="dataAula">
                </div>
                
                <h3 style="margin-top: 1.5rem;"><i class="fas fa-users"></i> Lista de Alunos</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Matrícula</th>
                            <th>Nome</th>
                            <th>CPF</th>
                            <th>Presença</th>
                            <th>Assinatura</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>123456</td>
                            <td>João Silva</td>
                            <td>123.456.789-00</td>
                            <td><input type="checkbox" class="checkbox-presenca"></td>
                            <td><button class="btn-assinar"><i class="fas fa-signature"></i> Assinar</button></td>
                        </tr>
                        <tr>
                            <td>234567</td>
                            <td>Maria Santos</td>
                            <td>234.567.890-11</td>
                            <td><input type="checkbox" class="checkbox-presenca"></td>
                            <td><button class="btn-assinar"><i class="fas fa-signature"></i> Assinar</button></td>
                        </tr>
                        <tr>
                            <td>345678</td>
                            <td>Pedro Costa</td>
                            <td>345.678.901-22</td>
                            <td><input type="checkbox" class="checkbox-presenca"></td>
                            <td><button class="btn-assinar"><i class="fas fa-signature"></i> Assinar</button></td>
                        </tr>
                    </tbody>
                </table>
                
                <div style="margin-top: 1.5rem;">
                    <button onclick="salvarPresenca()"><i class="fas fa-save"></i> Salvar Registro de Presença</button>
                </div>
                
                <div class="signature-pad-container" style="display: none; margin-top: 2rem;">
                    <h3><i class="fas fa-signature"></i> Assinatura Digital</h3>
                    <p>Assine no campo abaixo utilizando o mouse ou touchscreen:</p>
                    
                    <canvas id="signature-pad" class="signature-pad" width="600" height="200"></canvas>
                    
                    <div class="signature-actions">
                        <button onclick="limparAssinatura()"><i class="fas fa-eraser"></i> Limpar</button>
                        <button onclick="salvarAssinatura()"><i class="fas fa-check"></i> Confirmar Assinatura</button>
                        <button class="btn-danger" onclick="cancelarAssinatura()"><i class="fas fa-times"></i> Cancelar</button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <a href="#" class="admin-link" onclick="showPage('adminLogin')">
        <i class="fas fa-user-cog"></i>
    </a>

    <script>
        // util: debounce
        function debounce(fn, wait = 250) {
          let t;
          return (...args) => {
            clearTimeout(t);
            t = setTimeout(() => fn.apply(null, args), wait);
          };
        }

        // Alternar páginas (mantendo estado e acessibilidade)
        function setAriaForPages() {
          document.querySelectorAll('.page').forEach(p => {
            p.setAttribute('aria-hidden', p.classList.contains('active') ? 'false' : 'true');
          });
        }

        function showPage(pageId) {
            // Oculta todas as páginas
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            // Mostra a página solicitada se existir
            const target = document.getElementById(pageId);
            if (target) {
                target.classList.add('active');
                setAriaForPages();
                sessionStorage.setItem('activePage', pageId);
                // foco no primeiro campo de formulário, se houver
                const firstInput = target.querySelector('input, select, textarea, button');
                if (firstInput) firstInput.focus({preventScroll:true});
                // rola para o topo de forma suave
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                console.warn(`Página "${pageId}" não encontrada.`);
                const current = document.querySelector('.page.active') || document.getElementById('login');
                if (current) current.classList.add('active');
                setAriaForPages();
            }
        }
        
        // Selecionar tipo de usuário no login (mantém estado)
        function selectUserType(type) {
            ['aluno','instrutor','monitor','admin'].forEach(t => {
              const el = document.getElementById(t + 'Type');
              if (el) el.classList.remove('active');
            });
            const chosen = document.getElementById(type + 'Type');
            if (chosen) {
              chosen.classList.add('active');
              sessionStorage.setItem('userType', chosen.id);
            }
        }
        
        // Login "normal"
        const loginFormEl = document.getElementById('loginForm');
        if (loginFormEl) {
            loginFormEl.addEventListener('submit', function(e) {
                e.preventDefault();
                const userTypeEl = document.querySelector('.user-type.active');
                const userType = userTypeEl ? userTypeEl.id : 'alunoType';
                
                if (userType === 'alunoType') {
                    alert('Login de aluno realizado com sucesso!');
                    showPage('alunoDashboard');
                } else if (userType === 'instrutorType') {
                    alert('Login de instrutor realizado com sucesso!');
                    showPage('adminPresenca');
                } else if (userType === 'monitorType') {
                    alert('Login de monitor realizado com sucesso!');
                    showPage('cursos');
                } else {
                    showPage('adminLogin');
                }
            });
        }
        
        // Login admin
        const adminLoginFormEl = document.getElementById('adminLoginForm');
        if (adminLoginFormEl) {
            adminLoginFormEl.addEventListener('submit', function(e) {
                e.preventDefault();
                const user = document.getElementById('adminUser').value;
                const password = document.getElementById('adminPassword').value;
                if (user === 'admin' && password === 'admin123') {
                    showPage('adminDashboard');
                } else {
                    alert('Usuário ou senha incorretos!');
                }
            });
        }
        
        // Registro de presença (mock)
        function salvarPresenca() {
            alert('Lista de presença salva com sucesso!');
        }
        
        // Toggle de detalhes do curso (fecha os outros)
        function verDetalhes(curso) {
            const targetId = 'detalhes-' + curso;
            document.querySelectorAll('.curso-detalhes').forEach(detalhe => {
                if (detalhe.id !== targetId) {
                  detalhe.style.display = 'none';
                  detalhe.setAttribute('aria-hidden','true');
                }
            });
            const bloco = document.getElementById(targetId);
            if (bloco) {
                const willShow = bloco.style.display !== 'block';
                bloco.style.display = willShow ? 'block' : 'none';
                bloco.setAttribute('aria-hidden', willShow ? 'false' : 'true');
                if (willShow) bloco.scrollIntoView({behavior:'smooth', block:'start'});
            }
        }
        
        // Inscrição (mock)
        function inscreverCurso(curso) {
            alert(`Inscrição no curso "${curso}" realizada com sucesso!`);
        }
        
        // Assinatura: abre pad
        document.querySelectorAll('.btn-assinar').forEach(btn => {
            btn.addEventListener('click', function() {
                const cont = document.querySelector('.signature-pad-container');
                if (cont) cont.style.display = 'block';
                initSignaturePad(); // garante que listeners estejam setados
            });
        });
        
        // Canvas assinatura simples (mouse e touch)
        let sig = { drawing:false, ctx:null, canvas:null, last:{x:0,y:0} };
        function initSignaturePad() {
          if (sig.canvas) return; // já inicializado
          const canvas = document.getElementById('signature-pad');
          if (!canvas) return;
          const ctx = canvas.getContext('2d');
          ctx.lineWidth = 2;
          ctx.lineCap = 'round';
          ctx.lineJoin = 'round';
          sig = { drawing:false, ctx, canvas, last:{x:0,y:0} };
          
          const getPos = (e) => {
            const rect = canvas.getBoundingClientRect();
            if (e.touches && e.touches[0]) {
              return { x: e.touches[0].clientX - rect.left, y: e.touches[0].clientY - rect.top };
            }
            return { x: e.clientX - rect.left, y: e.clientY - rect.top };
          };
          
          const start = (e) => {
            sig.drawing = true;
            sig.last = getPos(e);
          };
          const move = (e) => {
            if (!sig.drawing) return;
            const p = getPos(e);
            sig.ctx.beginPath();
            sig.ctx.moveTo(sig.last.x, sig.last.y);
            sig.ctx.lineTo(p.x, p.y);
            sig.ctx.stroke();
            sig.last = p;
            e.preventDefault();
          };
          const end = () => sig.drawing = false;
          
          canvas.addEventListener('mousedown', start);
          canvas.addEventListener('mousemove', move);
          canvas.addEventListener('mouseup', end);
          canvas.addEventListener('mouseleave', end);
          canvas.addEventListener('touchstart', start, {passive:false});
          canvas.addEventListener('touchmove', move, {passive:false});
          canvas.addEventListener('touchend', end);
        }

        function limparAssinatura() {
            const canvas = document.getElementById('signature-pad');
            if (!canvas) return alert('Nada para limpar.');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        function salvarAssinatura() {
            alert('Assinatura salva com sucesso!');
            const cont = document.querySelector('.signature-pad-container');
            if (cont) cont.style.display = 'none';
        }
        
        function cancelarAssinatura() {
            const cont = document.querySelector('.signature-pad-container');
            if (cont) cont.style.display = 'none';
        }

        //Filtros & Busca ---teste
        const filterCargoEl = document.getElementById('filterCargo');
        const filterStatusEl = document.getElementById('filterStatus');
        const searchCourseEl = document.getElementById('searchCourse');

        function applyCourseFilters() {
          const cargo = (filterCargoEl?.value || '').toLowerCase();
          const status = (filterStatusEl?.value || '').toLowerCase();
          const term = (searchCourseEl?.value || '').toLowerCase().trim();
          const cards = document.querySelectorAll('#cursos .card');

          cards.forEach(card => {
            const title = (card.dataset.title || '').toLowerCase();
            const cargos = (card.dataset.cargo || '').toLowerCase().split(',');
            const st = (card.dataset.status || '').toLowerCase();

            const okCargo = !cargo || cargos.includes(cargo);
            const okStatus = !status || st === status;
            const okTerm = !term || title.includes(term);

            card.style.display = (okCargo && okStatus && okTerm) ? '' : 'none';
          });
        }

        if (filterCargoEl) filterCargoEl.addEventListener('change', applyCourseFilters);
        if (filterStatusEl) filterStatusEl.addEventListener('change', applyCourseFilters);
        if (searchCourseEl) searchCourseEl.addEventListener('input', debounce(applyCourseFilters, 200));

        // Estado inicial: restaura página e tipo de usuário 
        (function initState(){
          // restaura tipo de usuário
          const savedType = sessionStorage.getItem('userType');
          if (savedType) {
            ['aluno','instrutor','monitor','admin'].forEach(t => {
              const el = document.getElementById(t + 'Type');
              if (el) el.classList.remove('active');
            });
            const el = document.getElementById(savedType);
            if (el) el.classList.add('active');
          }
          // restaura página ativa
          const savedPage = sessionStorage.getItem('activePage');
          showPage(savedPage || 'login');
          // aplica filtros default
          applyCourseFilters();
        })();
    </script>
</body>
</html>

