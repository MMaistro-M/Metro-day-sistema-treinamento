<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Controle de Treinamentos - Metrô SP</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-subway"></i>
                Metrô SP - Treinamentos
            </div>
            <nav>
                <ul>
                    <li><a href="#" onclick="showPage('login')"><i class="fas fa-sign-in-alt"></i> Login</a></li>
                    <li><a href="#" onclick="showPage('cursos')"><i class="fas fa-graduation-cap"></i> Cursos</a></li>
                    <li><a href="#" onclick="showPage('alunoDashboard')"><i class="fas fa-user-graduate"></i> Área do Aluno</a></li>
                    <li><a href="#" onclick="showPage('adminDashboard')"><i class="fas fa-cog"></i> Administração</a></li>
                </ul>
            </nav>
        </header>
        
        <main class="main-content">
            <!-- Página de Login -->
            <div id="login" class="page active" aria-hidden="false">
                <h2><i class="fas fa-sign-in-alt"></i> Login</h2>
                
                <div class="user-type-selector">
                    <div class="user-type active" id="alunoType" onclick="selectUserType('aluno')">Aluno</div>
                    <div class="user-type" id="instrutorType" onclick="selectUserType('instrutor')">Instrutor</div>
                    <div class="user-type" id="monitorType" onclick="selectUserType('monitor')">Monitor</div>
                    <div class="user-type" id="adminType" onclick="selectUserType('admin')">Administrador</div>
                </div>
                
                <div class="login-container">
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="email"><i class="fas fa-envelope"></i> E-mail:</label>
                            <input type="email" id="email" autocomplete="username" required autofocus>
                        </div>
                        <div class="form-group">
                            <label for="password"><i class="fas fa-lock"></i> Senha:</label>
                            <input type="password" id="password" autocomplete="current-password" required>
                        </div>
                        <button type="submit"><i class="fas fa-sign-in-alt"></i> Entrar</button>
                    </form>
                    
                    <p style="margin-top: 1.5rem; text-align: center;">
                        <a href="#" onclick="showPage('adminLogin')">Acesso administrativo</a>
                    </p>
                </div>
            </div>
            
            <!-- Página de Cursos -->
            <div id="cursos" class="page" aria-hidden="true">
                <h2><i class="fas fa-graduation-cap"></i> Cursos Disponíveis</h2>
                
                <div class="filters">
                    <div class="filter-group">
                        <label for="filterCargo">Filtrar por Cargo:</label>
                        <select id="filterCargo">
                            <option value="">Todos os cargos</option>
                            <option value="operacional">Operacional</option>
                            <option value="tecnico">Técnico</option>
                            <option value="supervisor">Supervisor</option>
                            <option value="gerencial">Gerencial</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filterStatus">Filtrar por Status:</label>
                        <select id="filterStatus">
                            <option value="">Todos os status</option>
                            <option value="aberto">Inscrições abertas</option>
                            <option value="andamento">Em andamento</option>
                            <option value="concluido">Concluído</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="searchCourse">Buscar curso:</label>
                        <input type="text" id="searchCourse" placeholder="Digite o nome do curso">
                    </div>
                </div>
                
                <div class="card" data-title="NR35 - Trabalho em Altura" data-cargo="operacional,tecnico" data-status="aberto">
                    <h3><i class="fas fa-hard-hat"></i> NR35 - Trabalho em Altura <span class="badge badge-success">Disponível</span></h3>
                    <p><strong>Código:</strong> NR35-TURMA-0823</p>
                    <p>Curso sobre normas de segurança para trabalho em altura conforme estabelece a NR35.</p>
                    <p><strong>Carga horária:</strong> 40 horas</p>
                    <p><strong>Instrutor:</strong> Eng. Carlos Oliveira</p>
                    <p><strong>Restrição:</strong> Cargos operacionais e técnicos</p>
                    <button onclick="verDetalhes('nr35')"><i class="fas fa-info-circle"></i> Ver Detalhes</button>
                    
                    <div id="detalhes-nr35" class="curso-detalhes" aria-hidden="true">
                        <h4>Conteúdo Programático</h4>
                        <ul>
                            <li>Normas e regulamentos aplicáveis</li>
                            <li>Análise de Risco e condições impeditivas</li>
                            <li>Equipamentos de Proteção Individual (EPI)</li>
                            <li>Equipamentos de Proteção Coletiva (EPC)</li>
                            <li>Primeiros socorros</li>
                        </ul>
                        <button style="margin-top: 15px;" onclick="inscreverCurso('NR35 - Trabalho em Altura')"><i class="fas fa-check"></i> Inscrever-se</button>
                    </div>
                </div>
                
                <div class="card" data-title="NR10 - Segurança em Instalações Elétricas" data-cargo="tecnico" data-status="andamento">
                    <h3><i class="fas fa-bolt"></i> NR10 - Segurança em Instalações Elétricas <span class="badge badge-warning">Em breve</span></h3>
                    <p><strong>Código:</strong> NR10-TURMA-0923</p>
                    <p>Treinamento para prevenção de acidentes com instalações e serviços em eletricidade.</p>
                    <p><strong>Carga horária:</strong> 60 horas</p>
                    <p><strong>Instrutor:</strong> Eng. Mariana Santos</p>
                    <p><strong>Restrição:</strong> Cargos técnicos</p>
                    <button onclick="verDetalhes('nr10')"><i class="fas fa-info-circle"></i> Ver Detalhes</button>
                    
                    <div id="detalhes-nr10" class="curso-detalhes" aria-hidden="true">
                        <h4>Conteúdo Programático</h4>
                        <ul>
                            <li>Introdução à segurança com eletricidade</li>
                            <li>Riscos em instalações e serviços com eletricidade</li>
                            <li>Técnicas de análise de risco</li>
                            <li>Medidas de controle do risco elétrico</li>
                            <li>Normas técnicas brasileiras</li>
                        </ul>
                        <button style="margin-top: 15px;" onclick="inscreverCurso('NR10 - Segurança em Instalações Elétricas')" disabled><i class="fas fa-clock"></i> Em breve</button>
                    </div>
                </div>
                
                <div class="card" data-title="Liderança e Gestão de Equipes" data-cargo="supervisor,gerencial" data-status="concluido">
                    <h3><i class="fas fa-users"></i> Liderança e Gestão de Equipes <span class="badge badge-info">Restrito</span></h3>
                    <p><strong>Código:</strong> LID-TURMA-0823</p>
                    <p>Desenvolvimento de competências gerenciais e liderança para supervisores e gerentes.</p>
                    <p><strong>Carga horária:</strong> 30 horas</p>
                    <p><strong>Instrutor:</strong> Dr. Roberto Almeida</p>
                    <p><strong>Restrição:</strong> Cargos supervisorios e gerenciais</p>
                    <button onclick="verDetalhes('lideranca')"><i class="fas fa-info-circle"></i> Ver Detalhes</button>
                    
                    <div id="detalhes-lideranca" class="curso-detalhes" aria-hidden="true">
                        <h4>Conteúdo Programático</h4>
                        <ul>
                            <li>Papel do líder na organização</li>
                            <li>Comunicação eficaz</li>
                            <li>Gestão de conflitos</li>
                            <li>Feedback e desenvolvimento de equipes</li>
                            <li>Planejamento e delegação de tarefas</li>
                        </ul>
                        <button style="margin-top: 15px;" onclick="inscreverCurso('Liderança e Gestão de Equipes')"><i class="fas fa-check"></i> Inscrever-se</button>
                    </div>
                </div>
            </div>
            
            <!-- Página de Login Administrativo -->
            <div id="adminLogin" class="page" aria-hidden="true">
                <h2><i class="fas fa-lock"></i> Login Administrativo</h2>
                <div class="login-container">
                    <form id="adminLoginForm">
                        <div class="form-group">
                            <label for="adminUser"><i class="fas fa-user"></i> Usuário:</label>
                            <input type="text" id="adminUser" required>
                        </div>
                        <div class="form-group">
                            <label for="adminPassword"><i class="fas fa-key"></i> Senha:</label>
                            <input type="password" id="adminPassword" required>
                        </div>
                        <button type="submit"><i class="fas fa-sign-in-alt"></i> Entrar</button>
                    </form>
                </div>
            </div>
            
            <!-- Área do Aluno -->
            <div id="alunoDashboard" class="page" aria-hidden="true">
                <h2><i class="fas fa-user-graduate"></i> Área do Aluno</h2>
                
                <div class="aluno-dashboard">
                    <div class="aluno-info">
                        <h3><i class="fas fa-user"></i> Meus Dados</h3>
                        <p><strong>Nome:</strong> João Silva</p>
                        <p><strong>Matrícula:</strong> 123456</p>
                        <p><strong>CPF:</strong> 123.456.789-00</p>
                        <p><strong>Email:</strong> joao.silva@email.com</p>
                        <p><strong>Cargo:</strong> Técnico de Manutenção</p>
                        <p><strong>Departamento:</strong> Manutenção</p>
                    </div>
                    
                    <div class="aluno-cursos">
                        <h3><i class="fas fa-book"></i> Meus Cursos</h3>
                        
                        <div class="card">
                            <h3><i class="fas fa-hard-hat"></i> NR35 - Trabalho em Altura</h3>
                            <p><strong>Status:</strong> Em andamento (65% concluído)</p>
                            <div class="progress-bar">
                                <div class="progress" style="width: 65%"></div>
                            </div>
                            <p><strong>Turma:</strong> NR35-TURMA-0823</p>
                            <p><strong>Próxima aula:</strong> 25/08/2023 - 14:00</p>
                            <button><i class="fas fa-play-circle"></i> Continuar Curso</button>
                        </div>
                        
                        <div class="card">
                            <h3><i class="fas fa-bolt"></i> NR10 - Segurança em Instalações Elétricas</h3>
                            <p><strong>Status:</strong> Concluído</p>
                            <p><strong>Turma:</strong> NR10-TURMA-0723</p>
                            <p><strong>Data de conclusão:</strong> 10/07/2023</p>
                            <p><strong>Nota:</strong> 9.2</p>
                            <button><i class="fas fa-download"></i> Emitir Certificado</button>
                        </div>
                    </div>
                </div>
                
                <h3 style="margin-top: 2rem;"><i class="fas fa-file-certificate"></i> Meus Certificados</h3>
                
                <div class="certificado">
                    <h3>CERTIFICADO</h3>
                    <div class="certificado-content">
                        <p>Certificamos que <strong>João Silva</strong>, matrícula <strong>123456</strong>,</p>
                        <p>concluiu com êxito o curso de <strong>NR10 - Segurança em Instalações Elétricas</strong>,</p>
                        <p>com carga horária de <strong>60 horas</strong>, realizado em <strong>Julho de 2023</strong>.</p>
                    </div>
                    <div class="certificado-footer">
                        <div class="assinatura">
                            <p></p>
                            <p>Eng. Mariana Santos</p>
                            <p>Instrutora</p>
                        </div>
                        <div class="assinatura">
                            <p></p>
                            <p>João Silva</p>
                            <p>Aluno</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Dashboard Administrativo -->
            <div id="adminDashboard" class="page" aria-hidden="true">
                <h2><i class="fas fa-cog"></i> Painel Administrativo</h2>
                
                <div class="admin-dashboard">
                    <div class="admin-panel">
                        <h3><i class="fas fa-chart-bar"></i> Estatísticas</h3>
                        <p><strong>Cursos ativos:</strong> 5</p>
                        <p><strong>Alunos cadastrados:</strong> 142</p>
                        <p><strong>Instrutores:</strong> 8</p>
                        <p><strong>Certificados emitidos:</strong> 89</p>
                        
                        <h3 style="margin-top: 1.5rem;"><i class="fas fa-tasks"></i> Ações Rápidas</h3>
                        <button style="margin-bottom: 10px; width: 100%;" onclick="showPage('adminCursos')"><i class="fas fa-plus"></i> Novo Curso</button>
                        <button style="margin-bottom: 10px; width: 100%;" onclick="showPage('adminUsuarios')"><i class="fas fa-user-plus"></i> Adicionar Usuário</button>
                        <button style="margin-bottom: 10px; width: 100%;" onclick="showPage('adminTurmas')"><i class="fas fa-users"></i> Gerenciar Turmas</button>
                        <button style="margin-bottom: 10px; width: 100%;" onclick="showPage('adminPresenca')"><i class="fas fa-clipboard-list"></i> Registrar Presença</button>
                    </div>
                    
                    <div class="admin-content">
                        <h3><i class="fas fa-bell"></i> Notificações</h3>
                        
                        <div class="card">
                            <h3><i class="fas fa-exclamation-circle"></i> Certificados Pendentes</h3>
                            <p>Existem 23 certificados aguardando assinatura dos alunos.</p>
                            <button onclick="showPage('adminCertificados')"><i class="fas fa-file-signature"></i> Gerenciar Certificados</button>
                        </div>
                        
                        <div class="card">
                            <h3><i class="fas fa-users"></i> Novas Inscrições</h3>
                            <p>15 novas inscrições precisam de aprovação.</p>
                            <button onclick="showPage('adminInscricoes')"><i class="fas fa-clipboard-check"></i> Ver Inscrições</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Página de Registro de Presença ATUALIZADA -->
            <div id="adminPresenca" class="page" aria-hidden="true">
                <h2><i class="fas fa-clipboard-list"></i> Registro de Presença</h2>
                
                <div class="registro-presenca-header">
                    <div>
                        <div class="form-group">
                            <label for="selectTurma">Selecionar Turma:</label>
                            <select id="selectTurma">
                                <option value="">Selecione uma turma</option>
                                <option value="nr35-0823">NR35-TURMA-0823</option>
                                <option value="nr10-0723">NR10-TURMA-0723</option>
                                <option value="lideranca-0823">LID-TURMA-0823</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="dataAula">Data da Aula:</label>
                            <input type="date" id="dataAula">
                        </div>
                    </div>
                    
                    <div class="registro-actions">
                        <button onclick="inicializarRegistroPresenca()"><i class="fas fa-sync-alt"></i> Carregar Alunos</button>
                        <button onclick="gerarRelatorioPresenca()"><i class="fas fa-chart-bar"></i> Gerar Relatório</button>
                    </div>
                </div>
                
                <h3 style="margin-top: 1.5rem;"><i class="fas fa-users"></i> Lista de Alunos</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Matrícula</th>
                            <th>Nome</th>
                            <th>CPF</th>
                            <th>Presença</th>
                            <th>Assinatura</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Os alunos serão carregados dinamicamente via JavaScript -->
                    </tbody>
                </table>
                
                <div class="signature-pad-container" style="display: none; margin-top: 2rem;">
                    <h3><i class="fas fa-signature"></i> Assinatura Digital</h3>
                    
                    <div class="aluno-info-assinatura">
                        <p>Aluno: <span id="alunoAssinaturaNome">-</span></p>
                        <p>CPF: <span id="alunoAssinaturaCPF">-</span></p>
                    </div>
                    
                    <p>Assine no campo abaixo utilizando o mouse ou touchscreen:</p>
                    
                    <canvas id="signature-pad" class="signature-pad" width="600" height="200"></canvas>
                    
                    <div class="signature-actions">
                        <button onclick="limparAssinatura()"><i class="fas fa-eraser"></i> Limpar</button>
                        <button onclick="salvarAssinatura()"><i class="fas fa-check"></i> Confirmar Assinatura</button>
                        <button class="btn-danger" onclick="cancelarAssinatura()"><i class="fas fa-times"></i> Cancelar</button>
                    </div>
                </div>
                
                <div class="relatorio-presenca">
                    <h3><i class="fas fa-chart-pie"></i> Estatísticas de Presença</h3>
                    <p>Para visualizar o relatório completo de presenças e faltas, selecione uma turma e clique em "Gerar Relatório".</p>
                </div>
            </div>
        </main>
    </div>
    
    <a href="#" class="admin-link" onclick="showPage('adminLogin')">
        <i class="fas fa-user-cog"></i>
    </a>

    <script src="script.js"></script>
</body>
</html>